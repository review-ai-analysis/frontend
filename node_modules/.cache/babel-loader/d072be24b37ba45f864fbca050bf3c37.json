{"ast":null,"code":"var SquareProgress = function SquareProgress(selector, categories, classProgressBar, classProgressBlock, classActive) {\n  var wrapper = document.querySelectorAll(selector);\n  Array.prototype.forEach.call(wrapper, function (wrapper, i) {\n    var percent, newPercent, from, to, duration, start, fullSquares, opacitySquare, progressBlocks;\n\n    var getValues = function getValues() {\n      percent = categories[i][1] * 10;\n      newPercent = 0;\n      from = 0;\n      to = percent;\n      duration = 3000;\n      start = new Date().getTime();\n    };\n\n    function getColor(value) {\n      var hue = (value * 120).toString(10);\n      return [\"hsl(\", hue, \",100%,50%)\"].join(\"\");\n    }\n\n    function animate() {\n      requestAnimationFrame(animate);\n      var time = new Date().getTime() - start;\n\n      if (time <= duration) {\n        var x = easeInOutQuart(time, from, to - from, duration);\n        newPercent = x;\n        drawSquares(newPercent);\n      }\n    }\n\n    function drawSquares(newPercent) {\n      progressBlocks = wrapper.getElementsByClassName(\"\".concat(classProgressBlock));\n      fullSquares = Math.trunc(newPercent / 10);\n      opacitySquare = newPercent % 10 / 10;\n\n      for (var _i = 0; _i < fullSquares; _i++) {\n        progressBlocks[_i].style.opacity = 1;\n\n        progressBlocks[_i].setAttribute('class', \"\".concat(classProgressBlock, \" \").concat(classActive));\n\n        progressBlocks[_i].style.backgroundColor = \"\".concat(getColor(newPercent / 100));\n      }\n\n      progressBlocks[fullSquares].setAttribute('class', \"\".concat(classProgressBlock, \" \").concat(classActive));\n      progressBlocks[fullSquares].style.opacity = opacitySquare;\n      progressBlocks[fullSquares].style.backgroundColor = \"\".concat(getColor(newPercent / 100));\n    }\n\n    var update = function update() {\n      var progressBars = document.getElementsByClassName(\"\".concat(classProgressBar));\n\n      for (var _i2 = 0; _i2 < progressBars.length; _i2++) {\n        for (var j = 0; j < progressBars[_i2].childNodes.length; j++) {\n          var el = progressBars[_i2].childNodes[j];\n          el.setAttribute('class', \"\".concat(classProgressBlock));\n          el.style.backgroundColor = \"transparent\";\n        }\n      }\n\n      getValues();\n      animate();\n    };\n\n    update();\n    var resizeTimer;\n    window.addEventListener(\"resize\", function () {\n      clearTimeout(resizeTimer);\n      resizeTimer = setTimeout(function () {\n        clearTimeout(resizeTimer);\n        start = new Date().getTime();\n        update();\n      }, 250);\n    });\n  });\n\n  function easeInOutQuart(t, b, c, d) {\n    if ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\n    return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\n  }\n};\n\nexport default SquareProgress;","map":{"version":3,"sources":["C:/Users/Vladislav/Desktop/SmartCitySirius/site/src/components/SquareProgress/SquareProgress.js"],"names":["SquareProgress","selector","categories","classProgressBar","classProgressBlock","classActive","wrapper","document","querySelectorAll","Array","prototype","forEach","call","i","percent","newPercent","from","to","duration","start","fullSquares","opacitySquare","progressBlocks","getValues","Date","getTime","getColor","value","hue","toString","join","animate","requestAnimationFrame","time","x","easeInOutQuart","drawSquares","getElementsByClassName","Math","trunc","style","opacity","setAttribute","backgroundColor","update","progressBars","length","j","childNodes","el","resizeTimer","window","addEventListener","clearTimeout","setTimeout","t","b","c","d"],"mappings":"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","sourcesContent":["let SquareProgress = (function(selector, categories, classProgressBar, classProgressBlock, classActive) {\r\n\tlet wrapper = document.querySelectorAll(selector);\r\n\tArray.prototype.forEach.call(wrapper, function(wrapper, i) {\r\n\t\tlet percent,\r\n\t\t\tnewPercent,\r\n\t\t\tfrom,\r\n\t\t\tto,\r\n\t\t\tduration,\r\n\t\t\tstart,\r\n\t\t\tfullSquares,\r\n\t\t\topacitySquare,\r\n\t\t\tprogressBlocks;\r\n\r\n\t\tlet getValues = function() {\r\n\t\t\tpercent = categories[i][1] * 10;\r\n\t\t\tnewPercent = 0;\r\n\t\t\tfrom = 0;\r\n\t\t\tto = percent;\r\n\t\t\tduration = 3000;\r\n\t\t\tstart = new Date().getTime();\r\n\t\t};\r\n\r\n\t\tfunction getColor(value) {\r\n\t\t\tvar hue = (value * 120).toString(10);\r\n\t\t\treturn [\"hsl(\", hue, \",100%,50%)\"].join(\"\");\r\n\t\t}\r\n\r\n\t\tfunction animate() {\r\n\t\t\trequestAnimationFrame(animate);\r\n\t\t\tlet time = new Date().getTime() - start;\r\n\t\t\tif (time <= duration) {\r\n\t\t\t\tlet x = easeInOutQuart(time, from, to - from, duration);\r\n\t\t\t\tnewPercent = x;\r\n\t\t\t\tdrawSquares(newPercent);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction drawSquares(newPercent) {\r\n\t\t\tprogressBlocks = wrapper.getElementsByClassName(`${classProgressBlock}`);\r\n\t\t\tfullSquares = Math.trunc(newPercent / 10);\r\n\t\t\topacitySquare = newPercent % 10 / 10;\r\n\t\t\tfor (let i = 0; i < fullSquares; i++) {\r\n\t\t\t\tprogressBlocks[i].style.opacity = 1;\r\n\t\t\t\tprogressBlocks[i].setAttribute('class', `${classProgressBlock} ${classActive}`)\r\n\t\t\t\tprogressBlocks[i].style.backgroundColor = `${getColor(newPercent / 100)}`\r\n\t\t\t}\r\n\t\t\tprogressBlocks[fullSquares].setAttribute('class', `${classProgressBlock} ${classActive}`)\r\n\t\t\tprogressBlocks[fullSquares].style.opacity = opacitySquare;\r\n\t\t\tprogressBlocks[fullSquares].style.backgroundColor = `${getColor(newPercent / 100)}`\r\n\t\t}\r\n\r\n\t\tlet update = function() {\r\n\t\t\tlet progressBars = document.getElementsByClassName(`${classProgressBar}`)\r\n\t\t\tfor (let i = 0; i < progressBars.length; i++) {\r\n\t\t\t\tfor (let j = 0; j < progressBars[i].childNodes.length; j++) {\r\n\t\t\t\t\tlet el = progressBars[i].childNodes[j]\r\n\t\t\t\t\tel.setAttribute('class', `${classProgressBlock}`)\r\n\t\t\t\t\tel.style.backgroundColor = `transparent`;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tgetValues();\r\n\t\t\tanimate();\r\n\t\t}\r\n\t\tupdate();\r\n\r\n\t\tlet resizeTimer;\r\n\t\twindow.addEventListener(\"resize\", function() {\r\n\t\t\tclearTimeout(resizeTimer);\r\n\t\t\tresizeTimer = setTimeout(function() {\r\n\t\t\t\tclearTimeout(resizeTimer);\r\n\t\t\t\tstart = new Date().getTime();\r\n\t\t\t\tupdate();\r\n\t\t\t}, 250);\r\n\t\t});\r\n\t});\r\n\t\r\n\tfunction easeInOutQuart(t, b, c, d) {\r\n\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\r\n\t\treturn -c / 2 * ((t -= 2) * t * t * t - 2) + b;\r\n\t}\r\n});\r\n\r\nexport default SquareProgress;"]},"metadata":{},"sourceType":"module"}